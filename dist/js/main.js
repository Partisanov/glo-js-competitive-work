(()=>{"use strict";const e=e=>{const t=document.querySelector(".cards");t.innerHTML="",0==e.length?t.textContent="no information about Heroes":e.forEach((e=>{const s=document.createElement("div"),o=document.createElement("div"),n=document.createElement("img"),a=document.createElement("h3"),c=document.createElement("div");s.classList.add("col-lg-4","col-md-6","col-sm-6","mb-3"),o.classList.add("cards__item"),Object.assign(n,{src:`db/${e.photo}`,className:"img-fluid rounded-top cards__item__img",alt:"marvel heroes img"}),a.classList.add("cards__item__tittle"),c.classList.add("cards__item__descr"),a.textContent=`${e.name}`,Object.entries(e).forEach((([e,t])=>{"photo"!==e&&"movies"!==e&&c.insertAdjacentHTML("beforeend",`\n            <span class="cards__item__desc__span">${e}: <strong>${t}</strong></span>\n            `)})),o.append(n),o.append(a),o.append(c),s.append(o),t.append(s)}))};(()=>{const t=(e,t)=>{const s=document.getElementById(e);t.forEach((e=>{s.insertAdjacentHTML("beforeend",`\n            <option value="${e}">${e}</option>\n            `)}))};fetch("./db/dbHeroes.json").then((e=>e.json())).then((s=>{const o=new Set,n=new Set,a=new Set;s.forEach((e=>{e.species&&o.add(e.species),e.status&&a.add(e.status),e.movies&&e.movies.forEach((e=>n.add(e)))})),t("species",o),t("movies",n),t("status",a),e(s)})).catch((e=>console.log(e.message)))})(),(()=>{const t=document.getElementById("sort");t.addEventListener("change",(()=>{const s=t.querySelectorAll("select");fetch("./db/dbHeroes.json").then((e=>e.json())).catch((e=>console.log(e.message))).then((t=>{let o=t.slice();s.forEach((e=>{if("noselected"!==e.value){const t=e.id,s=e.value;return"movies"===t&&(o=((e,t)=>e.filter((e=>{if(e.movies)return e.movies.includes(t)})))(o,s)),"movies"!==t&&(o=((e,t,s)=>e.filter((e=>{if(e[t])return e[t]===s})))(o,t,s)),o}})),e(o)}))}))})(),document.getElementById("search-input").addEventListener("input",(t=>{fetch("./db/dbHeroes.json").then((e=>e.json())).catch((e=>console.log(e.message))).then((s=>{let o=s.slice();o=((e,t)=>e.filter((e=>e.realName?e.name.toLowerCase().includes(t.toLowerCase())||e.realName.toLowerCase().includes(t.toLowerCase())||e.actor.toLowerCase().includes(t.toLowerCase()):e.name.toLowerCase().includes(t.toLowerCase())||e.actor.toLowerCase().includes(t.toLowerCase()))))(o,t.target.value),e(o)}))}))})();